<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<!-- BOOTSTRAP -->
	<link rel="stylesheet"
		href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script
		src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script type='text/javascript'
		src="https://cdn.rawgit.com/jamesallardice/Placeholders.js/master/dist/placeholders.min.js"></script>

	<!-- CSS -->
	<link rel="stylesheet" type="text/css" href="resources/css/style.css" />
</h:head>
<h:body>
	<div class="container">
		<h1>#{loginControllerBean.loggedInUser.firstName}
			#{loginControllerBean.loggedInUser.lastName}</h1>

		<div class="col-md-4">
			<h:form>
				<h1>Update user information</h1>
				<h:messages></h:messages>
				<div class="form-first-name">
					<h:outputLabel value="First Name"
						styleClass="label first-name-label" />
					<h:inputText value="#{loginControllerBean.loggedInUser.firstName}"
						required="true" styleClass="input first-name-input" />
				</div>
				<div class="form-last-name">
					<h:outputLabel value="Last Name" styleClass="label last-name-label" />
					<h:inputText value="#{loginControllerBean.loggedInUser.lastName}"
						required="true" styleClass="input last-name-input" />
				</div>

				<h:outputLabel value="Email" styleClass="label" />
				<h:inputText value="#{loginControllerBean.loggedInUser.email}"
					required="true" styleClass="input" />

				<h:outputLabel value="City" styleClass="label" />
				<h:inputText value="#{loginControllerBean.loggedInUser.city}"
					required="true" styleClass="input" />

				<h:outputLabel value="Username" styleClass="label" />
				<h:inputText value="#{loginControllerBean.loggedInUser.username}"
					required="true" styleClass="input" />

				<h:outputLabel value="Password" styleClass="label" />
				<h:inputSecret value="#{loginControllerBean.loggedInUser.password}"
					required="true" styleClass="input" />

				<h:outputLabel for="birthdate" value="Date of birth (DD-MM-YYYY):"
					styleClass="label" />
				<h:inputText id="birthdate"
					value="#{loginControllerBean.loggedInUser.birthdate}"
					required="true" styleClass="input">
					<f:convertDateTime pattern="dd-M-yyyy" />
				</h:inputText>

				<h:outputLabel value="Country" styleClass="label" />
				<h:selectOneMenu value="#{loginControllerBean.loggedInUser.country}"
					styleClass="input">
					<f:selectItems value="#{registrationControllerBean.allCountries}" />
				</h:selectOneMenu>

				<h:outputLabel value="Gender" styleClass="label" />
				<h:selectOneMenu value="#{loginControllerBean.loggedInUser.gender}"
					styleClass="input">
					<f:selectItem itemValue="Male" itemLabel="Male" />
					<f:selectItem itemValue="Female" itemLabel="Female" />
					<f:selectItem itemValue="Other" itemLabel="Other" />
				</h:selectOneMenu>

				<h:commandButton
					action="#{userControllerBean.updateUser(loginControllerBean.loggedInUser)}"
					value="Save changes" styleClass="submit-btn" />
			</h:form>
		</div>
		<div class="col-md-4">
			<h:form>
				<h:inputText value="#{userControllerBean.contactListName}"></h:inputText>
				<h:commandButton
					action="#{userControllerBean.createNewContactlist()}"
					value="Create new Contactlist" />
			
			</h:form>
			<hr></hr>
			<h:form>				
				<h:inputText value="#{userControllerBean.usernameSearch}" />
				<h:commandButton
					action="#{userControllerBean.searchUserByUsername()}"
					value="Search" styleClass="submit-btn" />
			</h:form>

			<h:form>
				<h3>Results: </h3>#{userControllerBean.userToSearch.firstName}  #{userControllerBean.userToSearch.lastName}<br />
				<h:commandButton
					action="#{userControllerBean.addContactToList()}"
					value="Add to contactlist" />
			</h:form>
			
			<h1>My Contactlists</h1>
			
			<ui:repeat var="contactList" value="#{userControllerBean.myContactLists}">
				#{contactList.contactListName}<br></br>
			</ui:repeat>
			
				

		</div>
	</div>
</h:body>
</html>